<!DOCTYPE html>
<html lang="en">

<head>
    <title>{{ source_file_name }}</title>
    <link href='valgrind.css' rel='stylesheet' type='text/css'>
</head>

<body>
    <div class="global">
        <div class="header">
            <h1>{{ source_file_name }}</h1>
            <p><b>{{ num_errors }}</b> errors</p>
            <a href="#first_error" class="button">Go to First Error</a>
        </div>
        <div class="listing">
            <pre class="code">
{% set ns = namespace(first_error=true) %}
{% for item in codelines %}
    {% if item.klass == "error" %}
</pre>
            <table class="call_stack">
                <tr>
                    <th>{{ item.issue.what }}</th>
                </tr>
                {% for frame in item.issue.stack %}
                <tr>
                    <td>{{ frame.fileref }}<br>
                        <code>{{ frame.function }}</code>
                        <pre>
                        {% for codeline in frame.code -%}
<code>{{ codeline }}</code>
                        {%- endfor -%}
                        </pre>
                    </td>
                </tr>
                {% endfor %}
            </table>
            <span class="anchor" {% if ns.first_error%} {% set ns.first_error = false %} id="first_error"
                {% endif %}></span>
            <pre class="code">
    {% endif %}
<code{% if item.klass == "error" %} class="error"{% endif %}>{{ item.line }}</code>
{% endfor %}
            </pre>
        </div>
    </div>
</body>

</html>